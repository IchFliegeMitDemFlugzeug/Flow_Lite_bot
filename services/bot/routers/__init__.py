# Импортируем тип Dispatcher, чтобы уметь регистрировать в нём роутеры
from aiogram import Dispatcher

# Импортируем Router, чтобы типизировать объекты роутеров (не обязательно, но удобно)
from aiogram import Router

# Импортируем роутер стартового сообщения (/start) из соответствующего файла
# Каждый такой router = набор обработчиков, связанных с одним экраном или блоком
from .common.start import router as start_router


def setup_routers(dp: Dispatcher) -> None:
    """
    Функция для регистрации всех роутеров в одном месте.

    1. Создаём список всех роутеров (каждый роутер подключает свои сообщения/экраны).
    2. В цикле включаем каждый роутер в Dispatcher.
    """

    # Создаём список роутеров, которые хотим подключить к диспетчеру.
    # Пока здесь только стартовый роутер, но позже можно добавить другие:
    # - регистрация
    # - настройки
    # - личный кабинет
    # - inline-режим
    routers: list[Router] = [
        start_router,
        # сюда будем добавлять остальные роутеры по мере их создания
        # например:
        # registration_ask_phone_router,
        # registration_select_banks_router,
        # settings_menu_router,
        # ...
    ]

    # Проходим по всем роутерам в списке
    for router in routers:
        # Включаем текущий роутер в диспетчер.
        # После этого все хэндлеры, которые зарегистрированы в этом роутере,
        # становятся активными и начинают обрабатывать апдейты.
        dp.include_router(router)
