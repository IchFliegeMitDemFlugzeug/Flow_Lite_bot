# services/bot/texts/inline_mode/transfer_message.py

"""
–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –°–û–û–ë–©–ï–ù–ò–Ø, –∫–æ—Ç–æ—Ä–æ–µ —É—Ö–æ–¥–∏—Ç –≤ —á–∞—Ç
–ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∏–∑ inline-—Å–ø–∏—Å–∫–∞.

–§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è ‚Äî –ø—Ä–æ—Å—Ç–æ–π "—á–µ–∫-–ª–∏—Å—Ç" –∏–∑ –ø—É–Ω–∫—Ç–æ–≤:

- –°—É–º–º–∞: <—á–∏—Å–ª–æ> ‚ÇΩ           / "–£—Ç–æ—á–Ω–∏—Ç–µ —É –ø–æ–ª—É—á–∞—Ç–µ–ª—è"
- –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞: <–Ω–æ–º–µ—Ä>   / "–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã: <–Ω–æ–º–µ—Ä>"
- –ë–∞–Ω–∫ –ø–æ–ª—É—á–∞—Ç–µ–ª—è: <–±–∞–Ω–∫>   / "–£—Ç–æ—á–Ω–∏—Ç–µ —É –ø–æ–ª—É—á–∞—Ç–µ–ª—è"
- –§–ò–û –ø–æ–ª—É—á–∞—Ç–µ–ª—è: –§–ò–û       (–ø–æ–∫–∞ –∑–∞–≥–ª—É—à–∫–∞, —Ç.–∫. –≤ –ë–î –Ω–µ—Ç –§–ò–û)

–ü—Ä–∞–≤–∏–ª–∞:
- –ï—Å–ª–∏ —é–∑–µ—Ä –Ω–µ —É–∫–∞–∑–∞–ª —Å—É–º–º—É –≤ inline-–∑–∞–ø—Ä–æ—Å–µ ‚Äî –ø–∏—à–µ–º "–£—Ç–æ—á–Ω–∏—Ç–µ —É –ø–æ–ª—É—á–∞—Ç–µ–ª—è".
- –ï—Å–ª–∏ –±–∞–Ω–∫ –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–ª–∏ –∏–ª–∏ –æ–Ω –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —Ä–µ–∫–≤–∏–∑–∏—Ç–∞–º ‚Äî "–£—Ç–æ—á–Ω–∏—Ç–µ —É –ø–æ–ª—É—á–∞—Ç–µ–ª—è".
- –§–ò–û –ø–æ–∫–∞ –≤—Å–µ–≥–¥–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º –∫–∞–∫ "–§–ò–û" (3 –±—É–∫–≤—ã), –ø–æ —Ç–≤–æ–µ–º—É –¢–ó.
"""

from __future__ import annotations  # –†–∞–∑—Ä–µ—à–∞–µ–º "–æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ" –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ (—É–¥–æ–±–Ω–æ –¥–ª—è type hints)

from typing import Optional          # Optional[T] = T | None –¥–ª—è —á–∏—Ç–∞–±–µ–ª—å–Ω—ã—Ö –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π

from .inline_results import InlinePaymentOption              # –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞ (—Ç–∏–ø, –Ω–æ–º–µ—Ä, —Å—É–º–º–∞, –±–∞–Ω–∫)
from ...tools.inline_mode.query_parser import ParsedInlineQuery  # –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞ inline-–∑–∞–ø—Ä–æ—Å–∞
from ...tools.banks_wordbook import BANKS                    # –°–ª–æ–≤–∞—Ä—å –±–∞–Ω–∫–æ–≤ (code, button_title, message_title –∏ —Ç.–¥.)

plug="_–£—Ç–æ—á–Ω–∏—Ç–µ —É –ø–æ–ª—É—á–∞—Ç–µ–ª—è_"

def _get_bank_title(bank_code: Optional[str]) -> Optional[str]:
    """
    –í–æ–∑–≤—Ä–∞—â–∞–µ–º —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞ –ø–æ –µ–≥–æ –∫–æ–¥—É.

    –ò—Å–ø–æ–ª—å–∑—É–µ–º:
    - button_title (–∫–æ—Ä–æ—Ç–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ ‚Äî "–°–±–µ—Ä", "–¢-–ë–∞–Ω–∫", "–ü–°–ë");
    - –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç, message_title (–ø–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ);
    - –µ—Å–ª–∏ –±–∞–Ω–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –∫–æ–¥–∞ –Ω–µ—Ç ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º None.
    """
    # –ï—Å–ª–∏ –∫–æ–¥ –±–∞–Ω–∫–∞ –≤–æ–æ–±—â–µ –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω, –Ω–∞–º –Ω–µ—á–µ–≥–æ –∏—Å–∫–∞—Ç—å
    if not bank_code:
        return None

    # –ü—ã—Ç–∞–µ–º—Å—è –¥–æ—Å—Ç–∞—Ç—å –∑–∞–ø–∏—Å—å –±–∞–Ω–∫–∞ –∏–∑ —Å–ª–æ–≤–∞—Ä—è BANKS –ø–æ –∫–æ–¥—É
    bank_data = BANKS.get(bank_code)

    # –ï—Å–ª–∏ –ø–æ —ç—Ç–æ–º—É –∫–æ–¥—É –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞—à–ª–∏ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º None
    if not bank_data:
        return None

    # –°–Ω–∞—á–∞–ª–∞ –±–µ—Ä—ë–º –∫–æ—Ä–æ—Ç–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –∫–Ω–æ–ø–æ–∫ (button_title),
    # –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ (message_title)
    return bank_data.get("button_title") or bank_data.get("message_title")


def _format_amount(amount: Optional[int]) -> str:
    """
    –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º —Å—É–º–º—É –¥–ª—è –≤—ã–≤–æ–¥–∞ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏.

    –ï—Å–ª–∏ —Å—É–º–º–∞ –µ—Å—Ç—å ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ç—Ä–æ–∫—É –≤–∏–¥–∞ "500 ‚ÇΩ".
    –ï—Å–ª–∏ —Å—É–º–º—ã –Ω–µ—Ç ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º "–£—Ç–æ—á–Ω–∏—Ç–µ —É –ø–æ–ª—É—á–∞—Ç–µ–ª—è".
    """
    # –ï—Å–ª–∏ amount –Ω–µ None, –∑–Ω–∞—á–∏—Ç –ø–∞—Ä—Å–µ—Ä –Ω–∞—à—ë–ª —Å—É–º–º—É –≤ inline-–∑–∞–ø—Ä–æ—Å–µ
    if amount is not None:
        # –§–æ—Ä–º–∏—Ä—É–µ–º —Å—Ç—Ä–æ–∫—É —Å —á–∏—Å–ª–æ–º –∏ —Å–∏–º–≤–æ–ª–æ–º —Ä—É–±–ª—è
        return f"`{amount}` ‚ÇΩ"

    # –ï—Å–ª–∏ —Å—É–º–º—ã –Ω–µ—Ç ‚Äî –ø—Ä–æ—Å–∏–º –ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∞ —É—Ç–æ—á–Ω–∏—Ç—å –µ—ë —É –ø–æ–ª—É—á–∞—Ç–µ–ª—è
    return plug


def _format_recipient_bank(option: InlinePaymentOption, parsed_query: ParsedInlineQuery) -> str:
    """
    –û–ø—Ä–µ–¥–µ–ª—è–µ–º, —á—Ç–æ –≤—ã–≤–æ–¥–∏—Ç—å –≤ –ø—É–Ω–∫—Ç–µ "–ë–∞–Ω–∫ –ø–æ–ª—É—á–∞—Ç–µ–ª—è".

    –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
    1) bank_code –≤–Ω—É—Ç—Ä–∏ —Å–∞–º–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ (option.bank_code) ‚Äî —Ç–∞–º —É–∂–µ –≤—ã–±—Ä–∞–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –±–∞–Ω–∫.
    2) bank_code –∏–∑ –ø–∞—Ä—Å–µ—Ä–∞ (parsed_query.bank_code) ‚Äî –µ—Å–ª–∏ –≤–∞—Ä–∏–∞–Ω—Ç "—Å –ª—é–±—ã–º –±–∞–Ω–∫–æ–º", –∞ –≤ —Ç–µ–∫—Å—Ç–µ –±—ã–ª –±–∞–Ω–∫.
    –ï—Å–ª–∏ –±–∞–Ω–∫–∞ –Ω–∏–≥–¥–µ –Ω–µ—Ç –∏–ª–∏ –∫–æ–¥ –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω ‚Äî "–£—Ç–æ—á–Ω–∏—Ç–µ —É –ø–æ–ª—É—á–∞—Ç–µ–ª—è".
    """
    # –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–±—É–µ–º –≤–∑—è—Ç—å –±–∞–Ω–∫, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —Å–∞–º–æ–º—É —Ä–µ–∫–≤–∏–∑–∏—Ç—É (—Ç–µ–ª–µ—Ñ–æ–Ω/–∫–∞—Ä—Ç–∞)
    bank_code = option.bank_code

    # –ï—Å–ª–∏ —É –≤–∞—Ä–∏–∞–Ω—Ç–∞ –Ω–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ bank_code, –∞ –≤ –∑–∞–ø—Ä–æ—Å–µ –±—ã–ª –±–∞–Ω–∫ ‚Äî –±–µ—Ä—ë–º –µ–≥–æ
    if bank_code is None and parsed_query.bank_code is not None:
        bank_code = parsed_query.bank_code

    # –ü—Ä–µ–≤—Ä–∞—â–∞–µ–º –∫–æ–¥ –±–∞–Ω–∫–∞ –≤ —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
    bank_title = _get_bank_title(bank_code)

    # –ï—Å–ª–∏ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –µ–≥–æ
    if bank_title:
        return bank_title

    # –ò–Ω–∞—á–µ –ø—Ä–æ—Å–∏–º –ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∞ —É—Ç–æ—á–Ω–∏—Ç—å –±–∞–Ω–∫ —É –ø–æ–ª—É—á–∞—Ç–µ–ª—è
    return plug


def _format_recipient_identifier(option: InlinePaymentOption) -> str:
    """
    –§–æ—Ä–º–∏—Ä—É–µ–º —Å—Ç—Ä–æ–∫—É –¥–ª—è –ø—É–Ω–∫—Ç–∞ "–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞" –∏–ª–∏ "–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã".

    - –î–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤:
        "–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞: +7 999 123-45-67"
      (–±–µ—Ä—ë–º identifier –∫–∞–∫ –µ—Å—Ç—å ‚Äî —Å—á–∏—Ç–∞–µ–º, —á—Ç–æ –æ–Ω —É–∂–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–æ–º –≤–∏–¥–µ).

    - –î–ª—è –∫–∞—Ä—Ç:
        "–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã: 5555 6666 7777 8888"
      (—Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º identifier –∫–∞–∫ –µ—Å—Ç—å, –±–µ–∑ –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏—è, —á—Ç–æ–±—ã –ø–æ –Ω–µ–º—É –º–æ–∂–Ω–æ –±—ã–ª–æ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏).
    """
    # –ï—Å–ª–∏ —Ç–∏–ø —Ä–µ–∫–≤–∏–∑–∏—Ç–∞ ‚Äî —Ç–µ–ª–µ—Ñ–æ–Ω
    if option.payment_type == "phone":
        # –§–æ—Ä–º–∏—Ä—É–µ–º —Å—Ç—Ä–æ–∫—É —Å –ø–æ–¥—Å–∫–∞–∑–∫–æ–π, —á—Ç–æ —ç—Ç–æ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
        return f"*\nüì±–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞:*\n    `{option.identifier}`"

    # –ò–Ω–∞—á–µ —Å—á–∏—Ç–∞–µ–º, —á—Ç–æ —ç—Ç–æ –∫–∞—Ä—Ç–∞ (payment_type == "card")
    return f"*\n–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã:*\n    `{option.identifier}`"


def _format_recipient_name() -> str:
    """
    –§–æ—Ä–º–∏—Ä—É–µ–º —Å—Ç—Ä–æ–∫—É –¥–ª—è –ø—É–Ω–∫—Ç–∞ "–§–ò–û –ø–æ–ª—É—á–∞—Ç–µ–ª—è".

    –ü–æ —Ç–≤–æ–µ–º—É –¢–ó:
    - –ø–æ–∫–∞ –≤ –ë–î –Ω–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ –§–ò–û,
    - –≤ —ç—Ç–æ–º –ø—É–Ω–∫—Ç–µ —Å—Ç–∞–≤–∏–º –∑–∞–≥–ª—É—à–∫—É "–§–ò–û" (3 –±—É–∫–≤—ã).

    –ü—Ä–∏ —ç—Ç–æ–º –º—ã –ù–ï –ø–∏—à–µ–º "–£—Ç–æ—á–Ω–∏—Ç–µ —É –ø–æ–ª—É—á–∞—Ç–µ–ª—è" ‚Äî —ç—Ç–∞ —Å—Ç—Ä–æ–∫–∞ –ø—Ä–æ—Å—Ç–æ –∑–∞–≥–ª—É—à–∫–∞.
    –ï—Å–ª–∏ –ø–æ—Ç–æ–º –ø–æ—è–≤–∏—Ç—Å—è –§–ò–û –≤ –ë–î, —Å—é–¥–∞ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
    """
    # –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ç—Ä–æ–∫—É —Å –∑–∞–≥–ª—É—à–∫–æ–π "–§–ò–û"
    return "*\nüë§–§–ò–û –ø–æ–ª—É—á–∞—Ç–µ–ª—è:*\n    –§–ò–û"


def build_transfer_message_text(
    *,
    option: InlinePaymentOption,          # –í–∞—Ä–∏–∞–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª –∏–∑ inline-—Å–ø–∏—Å–∫–∞
    parsed_query: ParsedInlineQuery,      # –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞ inline-–∑–∞–ø—Ä–æ—Å–∞ (raw_query, —Å—É–º–º–∞, –±–∞–Ω–∫–∏ –∏ —Ç.–ø.)
) -> str:
    """
    –°–æ–±–∏—Ä–∞–µ–º –∏—Ç–æ–≥–æ–≤—ã–π —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç –≤ —á–∞—Ç
    –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ inline-—Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.

    –§–æ—Ä–º–∞—Ç:

        –°—É–º–º–∞: <...>
        <–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞: ... / –ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã: ...>
        –ë–∞–Ω–∫ –ø–æ–ª—É—á–∞—Ç–µ–ª—è: <...>
        –§–ò–û –ø–æ–ª—É—á–∞—Ç–µ–ª—è: –§–ò–û

    - –ï—Å–ª–∏ —Å—É–º–º–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞ –≤ –∑–∞–ø—Ä–æ—Å–µ ‚Äî "–°—É–º–º–∞: –£—Ç–æ—á–Ω–∏—Ç–µ —É –ø–æ–ª—É—á–∞—Ç–µ–ª—è".
    - –ï—Å–ª–∏ –±–∞–Ω–∫ –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω ‚Äî "–ë–∞–Ω–∫ –ø–æ–ª—É—á–∞—Ç–µ–ª—è: –£—Ç–æ—á–Ω–∏—Ç–µ —É –ø–æ–ª—É—á–∞—Ç–µ–ª—è".
    """
    # ----------------------------
    # 1. –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å—É–º–º—É –ø–µ—Ä–µ–≤–æ–¥–∞
    # ----------------------------
    # –ë–µ—Ä—ë–º —Å—É–º–º—É:
    # - —Å–Ω–∞—á–∞–ª–∞ –∏–∑ —Å–∞–º–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ (option.amount),
    # - –µ—Å–ª–∏ —Ç–∞–º None ‚Äî –ø–æ–¥—Å—Ç—Ä–∞—Ö—É–µ–º—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ–º –∏–∑ –ø–∞—Ä—Å–µ—Ä–∞ (parsed_query.amount).
    effective_amount: Optional[int] = option.amount if option.amount is not None else parsed_query.amount

    # –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º —Å—Ç—Ä–æ–∫—É –¥–ª—è –ø—É–Ω–∫—Ç–∞ "–°—É–º–º–∞"
    amount_line: str = f"*üí≤–°—É–º–º–∞:*\n  {_format_amount(effective_amount)}"

    # --------------------------------------
    # 2. –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏–ª–∏ –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã
    # --------------------------------------
    # –§–æ—Ä–º–∏—Ä—É–µ–º —Å—Ç—Ä–æ–∫—É —Å —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–º (–Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏–ª–∏ –∫–∞—Ä—Ç—ã)
    identifier_line: str = _format_recipient_identifier(option)

    # --------------------------------------
    # 3. –ë–∞–Ω–∫ –ø–æ–ª—É—á–∞—Ç–µ–ª—è
    # --------------------------------------
    # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—è
    bank_title_or_hint: str = _format_recipient_bank(option, parsed_query)
    bank_line: str = f"*\nüè¶ –ë–∞–Ω–∫ –ø–æ–ª—É—á–∞—Ç–µ–ª—è:*\n  {bank_title_or_hint}"

    # --------------------------------------
    # 4. –§–ò–û –ø–æ–ª—É—á–∞—Ç–µ–ª—è
    # --------------------------------------
    # –ü–æ–∫–∞ –≤—Å–µ–≥–¥–∞ –∑–∞–≥–ª—É—à–∫–∞ "–§–ò–û"
    name_line: str = _format_recipient_name()

    # --------------------------------------
    # 5. –°–∫–ª–µ–∏–≤–∞–µ–º –≤—Å—ë –≤ –æ–¥–∏–Ω —Ç–µ–∫—Å—Ç
    # --------------------------------------
    # –°–æ–µ–¥–∏–Ω—è–µ–º –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏,
    # —á—Ç–æ–±—ã –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏ —ç—Ç–æ –≤—ã–≥–ª—è–¥–µ–ª–æ –∫–∞–∫ –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø—É–Ω–∫—Ç–æ–≤.
    message_text: str = "\n".join(
        [
            amount_line,      # –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞: "–°—É–º–º–∞: ..."
            identifier_line,  # –í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞: "–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞: ..." / "–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã: ..."
            bank_line,        # –¢—Ä–µ—Ç—å—è —Å—Ç—Ä–æ–∫–∞: "–ë–∞–Ω–∫ –ø–æ–ª—É—á–∞—Ç–µ–ª—è: ..."
            name_line,        # –ß–µ—Ç–≤—ë—Ä—Ç–∞—è —Å—Ç—Ä–æ–∫–∞: "–§–ò–û –ø–æ–ª—É—á–∞—Ç–µ–ª—è: –§–ò–û"
        ]
    )

    # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∏—Ç–æ–≥–æ–≤—ã–π —Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–π–¥—ë—Ç –≤ InputTextMessageContent.message_text
    return message_text
